<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>扫尾大师 线路. v1.0.</title>
    <link href="https://cdn.staticfile.org/bootstrap/5.2.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.staticfile.org/bootstrap-icons/1.10.2/font/bootstrap-icons.min.css" rel="stylesheet">

    <style>
        html,
        body {
            height: 100%;
            font-size: 12px;
        }

        body {
            display: flex;
            align-items: center;
            background-color: #f5f5f5;
        }
    </style>

</head>

<body>
    <main class="container">
        <div class="mb-3 text-center">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcIAAAB4CAMAAABW4ALQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAylpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMC1jMDAxIDc5LmMwMjA0YjJkZWYsIDIwMjMvMDIvMDItMTI6MTQ6MjQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyNC40IChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MjU0RDkxQTQ5RDExRUU5QUE2QThBNkNFRDY2MzJDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU1MjU0RDkyQTQ5RDExRUU5QUE2QThBNkNFRDY2MzJDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTUyNTREOEZBNDlEMTFFRTlBQTZBOEE2Q0VENjYzMkMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTUyNTREOTBBNDlEMTFFRTlBQTZBOEE2Q0VENjYzMkMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6tbthKAAACfFBMVEU/Pz8ABgwAAAYEDRIWHB+/v78NFRk4OThAQD4fJCZgW1RbVlBIRkNVUUxPTEh/f38xMjLY19UoKyx6eHUfHx/Pz8/FxsePj49dX2BfX1/f399/fHiBhojCxMWvr68PDw/LzMxPT0/v7+9JT1Kfn591dHEvLy9kZWWTlZVWWlynpaNvb28/P0TJyspCSU319fTT0tHX1tSKh4N7f4FfY2fg4eFpammvrqx/f4KxsrKCg4Kur7CGiozr6uqVmJpnbG+cmpitqqePj5KPkpSYl5XBwcHz8/Nvb241NzhKS0ssMTPl5eXX19fs6+pXV1XR09SZm52/v8GYmJiysK/AwsTi4d9BRkiLi4tfW1eRlZdTUU5ydnePkZKjoqFxcnLU09LHyMlLS0na2trd3NxkYl5jY2LKyMfNzMnv7/DQ0dKGg4EfHyQTGyDm5ubh4uK/wcJERUQ6P0B2e31/goWEgHulop7p6ejw8fF5dXCRjomlpaVCRUYyOj6Bf32qqKWfn562uLmKjY9ZV1Pj5OSws7W3tbJPT1OUko+vralpZV5fX2NSWFvGxcTP0NGMi4llYFqrq6rv8PDDwb/Nzc28vL14envPz9APDxXb29u5t7Tq6ulQVFZeYmTy8vI9Pj5qZmL08/OhoqKvsbN2dnaRj4yfn6He3d3n5+dzb2kvLzQbIyeoqKg/REiOioZPU1cqMTW+v79iZ2p9eXRdXV3Y2Nh+fn5YXWDT1NXk5OXDw8KztrdqaGa9vLrMysgkKSwPFRq0tLSnqqu0s7DIx8aTk5IyODqBg4QjKi/W1dPh4N8fJCrf3+Di4+Pq6emrra1ITE65urufoaQAAAD///90679gAAAA1HRSTlP/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AIOAgj0AAAXRSURBVHja7Jj3W1NXGMcDEhFFLkrSkICJAUQQi6hQFxbcyhDB0TqqrbO1jtZZtWpdrd1777333nvvnH+oued9T3Jv7rm51194Hvp8Pz+Y+45zTryfnJMbAgIMcQK4BVAIoBBAIRQCKARQCKAQCgEUAigEUAiFAAoBFAIohEIAhQAKARRCIYBCAIUACqEQQCGAQgCFUAigEEAhgEIoBFAIoBBAIRQCKARQCKAQCgEUAigEUAiFAAoBFAIohEIAhS7EItFEKk193KMxbATy0xTUDjInTyXqXFY3kmY5ZIhwUEcNFPpbk+5yTSzepFNjqL6aUCo/Ec3kTVRKeKwe1s+YCEKhH9hM+m5FtPcxqRR6GEyFnHMHuaT5f9WY2yzMqxsuU0ah0A98t8JCuNxI7ot7KUy5fjwSMRe7gVgqr8ImKPT8KjSMKN8tw6gL6O8jn2bcGHKetfVuCo08R6ysRflzEbmAsxkKbdh2llFn2FBya2w7qs71uKx3PM24H6P8iYgY9iPYsJ/deCL1xnaA1en98v3lIy9V77oLk2pjK9TujNo/GkY88xwTpI0fVQ+kSR7AYQwKPYlqDsxcv/yeIp5fhYbPr0zqpA2eoPMy8b85RwddYSDf00jAakYkPcUEnRvbhSQfsiE+auN5Z4TC/KifCjHXx0k+XxOeYmI+VctPhbQWqGNVvh9xodD9l5u73LCtL+hCxDA0G9uFOG9Wg3751xu+f2hCoZOI5QsvZpdik6u+GA3D8jeckPueiSXyPI0q0/wzJhrlVkNt0sDQfTAdfIW3FUpu7p/fL2YWaniV+iZzX6Erk23zcv/Dv5tBP7fMz9avNeOHOE3NM9WgF6maTkChFwv2t35doNgv3ijQ0Co7r1ZRgSuttpk5uYBCjt7K1Gm+vZS+k17+Fb/RxV7ufw4KPRlm5az4eZiGatl5loJd1ea/NzY3N3P13WrF2jbLxG27qNzM8e3cnmlYJedZS9lr+OVe1bWKXtug0Iu+4Vb2iOE6xsnWfRR09I1juNrR3t6+r1bSZ5m5lqqv7eH4UttkKvFRh0zWfkZFwZO+rdrx1xlPbiqy8JU4fJEVVfxDtv5IwbdF7hzOTryCUytU4mNOTFeJ6WZ0ag0lT8mXNWrYE1QtehwKPdnQ2Hh9iaTRWbySKl0yOENBCSd1dGWHnulyzMrr/K3iRjP6h5J/yaBkvVhP8QaqlvwEhX6oHCtpcFYaqFIpgzkUHOupZJZytSHNnItNehyTLv0km3qQUmOf5FgGPGvPMX4PPO4BQbM/C4V+WFYumeWsfEiVy2SwkYPu8cQ7PG7iwMaJkmXlA5mRR6lWftQy26xy20Ld5vVTA5QT9DKeX8s/6FYJKPRmcTGx2Vl6nyrfyOA6ChbNLnbldTVwNzdfoltoNoWLZMPz1Hc/lXZvLravIqDQB+ERhKbEFfnntUc4WLxkhCthNZB7rnrZNt02yi6n6KR5/cNymTp5D/WLT6ll2xJbKxTm54pSyefOyhaqlMpgBl1PEKU61k0weYYHcm/pDPt8Czm9RUbHzUtO3bGQJ+c3c9c6ej0OhZ58UVGxtUyyU4iXyrRslZ0VFEwSk9KsbGlpeYESpyuydNKkh05TqSJnsRaecGU29T1lDtHsnWInxZ1lajUo9OKW0YoTQmwfrWWa7ORgk2ZoTqeooujyP3NXs7eZnKBOMa3KZLt4mjq+qyI2QaEnN4xS/CLEvFFa5pmNX9L13bqh9k5xjqNzjtXe5Eo2c0DGBzIxNzwmhjSDqHDqwZEZ5gpxZKSWHWLujoOv0PWR7GBN59R0eu59t1LwnnO9Ry19Jr+ep/h85g1xg4BCX0wZYyWdWD1Gy5QLmTQ7rNd9xd6c3t6chtVQCKAQQCEUAigEUAigEAoBFAIoBFAIhQAKARQCKIRCAIUACgEUQiGAQgCFAAqhEEAhgEIAhVAIoBBAIYBCKARQCKAQQCEUAigEUAigEAoBFAIoBL75T4ABABPJsoK1DHY8AAAAAElFTkSuQmCC">
        </div>
        <div id="block-selLines">

        </div>
    </main>
    <iframe style=" width:100%; height:100%; display:none;"></iframe>
    <script type="text/html" id="tpl-lines">
        <form id="myform">
            <h3 class="mb-2">选择可用线路</h3>
            <select class="form-select mb-2" size="5" id="domainLines">
            <option selected>请点击选择对应产品的可用线路</option>
                {{each $data}}
                <option value="{{$value.host}}">{{$value.title}}</option>
                {{/each}}
            </select>
            <button class="w-100 btn btn-lg btn-primary" type="button" onclick="enter(this);">进 入 --></button>
        </form>
    </script>
    <script src="https://cdn.staticfile.org/art-template/4.13.2/lib/template-web.min.js"></script>
    <script src="https://cdn.staticfile.org/zepto/1.2.0/zepto.min.js"></script>
    <script src="https://cdn.staticfile.org/bootstrap/5.2.2/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript">
        $(function () {
            var selectLine = getCookie('selline');
            if (selectLine.length > 0) {
                $.ajax({
                    type: "get",
                    cache: false,
                    url: selectLine + "/Api/ApiWeb/LoginCheckStateCb",
                    dataType: "jsonp",
                    jsonp: 'cb',
                    success: function (data) {
                        if (data.Code == 1) {
                            $("main").hide();
                            $("iframe").attr("src", selectLine + '/User').show();
                        }
                    }
                });
            }
            $.ajax({
                type: "get",
                cache: false,
                url: "https://mclarenapp.github.io/SH_Lines/swds_alist.txt",
                dataType: "jsonp"
            });
        });
        function JsonpData(data) {
            var html = $(template("tpl-lines", data.lines));
            $("#block-selLines").html(html[0]);
        }
        function enter(obj) {
            var domainLines = $("#domainLines");
            var selectLine = domainLines.val();
            addCookie('selline', selectLine, 240, "", "");
            $("main").hide();
            $("iframe").attr("src", selectLine).show();
        }
        function getCookie(objName) {
            var value = "";
            var arrStr = document.cookie.split("; ");
            for (var i = 0; i < arrStr.length; i++) {
                var temp = arrStr[i].split("=");
                if (temp.length == 2) {
                    if (temp[0] == objName) {
                        value = unescape(temp[1]);
                        break;
                    }
                }
            }
            return value;
        }
        function addCookie(objName, objValue, objHours, objDomain, objPath) {
            var str = objName + "=" + escape(objValue);
            if (objHours > 0) {
                var date = new Date();
                var ms = objHours * 3600 * 1000;
                date.setTime(date.getTime() + ms);
                str += "; expires=" + date.toGMTString();
            }
            if (objDomain != "") {
                str += "; domain=" + objDomain;
            }
            if (objPath != "") {
                str += "; path=" + objPath;
            }
            document.cookie = str;
        }
    </script>
</body>

</html>
